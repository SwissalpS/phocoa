<VirtualHost ##SERVER_IP##:##SERVER_PORT##>
    ServerName ##SERVER_NAME##
    DocumentRoot ##PHOCOA_APP_DIR##/wwwroot

    # WebDAV for the modules directory; useful for remote editing of .config and .instances file with PHOCOA Builder.
    Alias /module_dav ##PHOCOA_APP_DIR##/modules

    # map phocoa framework wwwroot
    AliasMatch ^/www/framework/?(.*) ##PHOCOA_BASE_DIR##/wwwroot/www/framework/$1
    # enable a normal wwwroot
    AliasMatch ^/www/?(.*) ##PHOCOA_APP_DIR##/wwwroot/www/$1

    # enable normal www access to skins directory - WWWROOT for EACH SKIN WWWROOT in EACH SKIN DIR. Pieces are SkinType, SkinName, SkinThemeName, and path/to/resource
    # security thought... can people ../../.. their way to trouble? Apache 2 at least seems to prevent this, but I am not sure how.
    AliasMatch ^/skins/([^/]*)/([^/]*)/([^/]*)/(.*) ##PHOCOA_APP_DIR##/skins/$1/$2/www/$3/$4

    # show phpdoc documentation
    AliasMatch ^/docs/?(.*) ##PHOCOA_BASE_DIR##/docs/phpdocs/$1

    # allow / to run application - THIS ONE MUST BE LAST otherwise it will override the others!
    AliasMatch ^/?(.*) ##PHOCOA_APP_DIR##/wwwroot/index.php/$1

    # logging
    CustomLog ##PHOCOA_APP_CONTAINER_DIR##/log/access_log combined
    ErrorLog  ##PHOCOA_APP_CONTAINER_DIR##/log/error_log

    # various settings for this server
    # use client-side host names in redirects
    AcceptPathInfo On
    UseCanonicalName Off
    DirectoryIndex index.php index.html
    <Directory />
        # enable .htaccess stuff
        AllowOverride All
    </Directory>

    <Location "/module_dav" >
        DAV On  
        # DAVDepthInfinity on
    
        # Options indexes
        # IndexOptions FancyIndexing
        RemoveType .php .html

        AuthName "PHOCOA Modules WebDAV Access"
        AuthType Basic
    
        AuthUserFile ##PHOCOA_APP_DIR##/conf/htpasswd
    
        Order Deny,Allow
        require valid-user
    </Location>
</VirtualHost>
